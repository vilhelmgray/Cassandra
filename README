                               Cassandra

About
-----

Cassandra uses the Kelly criterion to determine the optimum betting
amount for a Texas hold 'em player during betting rounds.

Execution
---------

Cassandra handles only a single play of a poker hand; Cassandra must
be restarted for consecutive plays.

The first two prompts respectively request the player's current bankroll
and the retained pot of the current round; unsigned integer values are
expected. Even if the player has a blind (small or big) for the current
play, both the bankroll value and the pot value must reflect the state
of the game at the player's first turn to act -- i.e. after the blinds
have been posted.

The retained pot value is determined by multiplying the player's
previous bet amount by the number of bets placed by the opponents. Since
blinds are forced bets and result in a delayed first turn to act, the
retained pot value is only greater than zero when the player has a
blind; in all other situations, there are no previous bets placed by the
player when it is his or her first turn to act, so the retained pot
amount is 0 (0 * number_of_opponent_bets = 0).

Example 1:

    There are 4 opponents. The player has a bankroll of 5000 before
    the play of the hand. The betting order is such: Opponent 1,
    Opponent 2, Opponent 3, Player, and Opponent 4.

    Sample play:
    Opponent 1 posts small blind of 15.
    Opponent 2 posts big blind of 30.
    Opponent 3 raises 60.
    Player's turn to act.

    This is the point where Cassandra may be executed. The bankroll
    prompt input would be 5000 since the player has yet to place a
    bet. The pot prompt input would be 0 since the player has not
    made a previous bet.

Example 2:

    There are 4 opponents. The player has a bankroll of 5000 before
    the play of the hand. The betting order is such: Opponent 1,
    Player, Opponent 2, Opponent 3, and Opponent 4.

    Sample play:
    Opponent 1 posts small blind of 15.
    Player posts big blind of 30.
    Opponent 2 calls 30.
    Opponent 3 raises 60.
    Opponent 4 folds.
    Opponent 1 calls 45.
    Player's turn to act.

    This is the point where Cassandra may be executed. The bankroll
    prompt input would be 4970 since the player posted a blind of 30
    previously (5000 - 30 = 4970). The pot prompt input would be 90
    since the player's previous bet amount is 30 and the number of
    opponent bets since the player's last bet is 3 (30 * 3 = 90);
    only 3 opponents (Opponent 2, Opponent 3, and Opponent 1) placed
    bets since the player's previous bet (the big blind of 30). Note
    that Opponent 3's raise has no affect on the pot prompt input
    value -- it has the same effect as a call; in contrast,
    Opponent 4's fold did affect the pot prompt input value by being
    one less opponent bet to consider.

Example 3:

    There are 4 opponents. The player has a bankroll of 5000 before
    the play of the hand. The betting order is such: Player,
    Opponent 1, Opponent 2, Opponent 3, and Opponent 4.

    Sample play:
    Player posts small blind of 15.
    Opponent 1 posts big blind of 30.
    Opponent 2 calls 30.
    Opponent 3 folds.
    Opponent 4 folds.
    Player's turn to act.

    This is the point where Cassandra may be executed. The bankroll
    prompt input would be 4985 since the player posted a blind of 15
    previously (5000 - 15 = 4985). The pot prompt input would be 30
    since the player's previous bet amount is 15 and the number of
    opponent bets since the player's last bet is 2 (15 * 2 = 30);
    only 2 opponents (Opponent 1 and Opponent 2) placed bets since
    the player's previous bet (the small blind of 15).

At the start of each betting round, the relevant cards for that round
are requested. A single card is input at a time in a particular format:
the card rank followed by the card suit. The card rank is represented by
an unsigned integer between 1 and 13; where integers 2-10 correspond to
the respective card ranks -- and integers 1, 11, 12, and 13 correspond
to the Ace, Jack, Queen, and King card ranks respectively. The card suit
is represented by one of four characters; where the characters "c," "d,"
"h," and "s" correspond to the Club, Diamond, Heart, and Spade suits
respectively.

Example 4:
    
    The player is dealt the following hole cards: Queen of Diamond
    and the Three of Heart.

    ==Hole Cards==
    Input card: 12d
    Input card: 3h

    The Queen rank is represented by the integer "12," and the
    Diamond suit is represented by the character "d;" so the player
    inputs "12d" to represent the Queen of Diamond. The Three rank
    is represented by the integer "3," and the Heart suit is
    represented by the character "h;" so the player inputs "3h" to
    represent the Three of Heart.

Example 5:

    The player is dealt the following hole cards: Ace of Club and
    the Ace of Spade.

    ==Hole Cards==
    Input card: 1c
    Input card: 1s

    The Ace rank is represented by the integer "1," and the Club
    suit is represented by the character "c;" so the player inputs
    "1c" to represent the Ace of Club. The Ace rank is represented
    by the integer "1," and the Spade suit is represented by the
    character "s;" so the player inputs "1s" to represent the Ace of
    Spade.

Algorithm
---------

A 52-card deck is represented in memory as a 52-bit value, where each
bit represents a unique discrete card. The suits are broken into
four groups of contiguous bits; each group consisting of 13 bits
respectively representing the 13 discrete cards of the suit.

Licensing
---------

Cassandra is free software released under version 3 of the GNU General
Public License.

See the file COPYING for copying conditions.

Contact
-------

William Breathitt Gray <vilhelm.gray@gmail.com>
